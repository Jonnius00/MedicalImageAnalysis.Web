# ğŸ¥ MedicalImageAnalysis.Web

A modular ASP.NET Core web application for uploading, visualizing, and analyzing medical images (DICOM, NIfTI, PNG, JPG). Designed for extensibility and cross-language reproducibility, this project is designated for showcasing basic medical image processing pipelines. 
Completed roadmap stages with example pictures are presented below.

## Features

- ğŸ“¤ **Image Upload & Display**  
  Upload DICOM, PNG, JPG, and (planned) NIfTI files via a simple web UI.  
  DICOM metadata (patient, modality) is extracted and displayed.  
  Uploaded images are rendered and previewed in-browser.

- ğŸ§© **Modular Architecture**  
  - **Pages/**: Razor Pages UI  
  - **Services/**: Core logic (preprocessing, clustering, segmentation)  
  - **Models/**: Data models (e.g., image data, pipeline configs)  
  - **Data/**: File I/O and dataset loading  
  - **Utils/**: Shared helpers (image conversion, metrics, timing)

- ğŸš€ **Planned Core Functionalities**  
  - **Data Loading**: Unified handling for DICOM, NIfTI, PNG, JPG  
  - **Preprocessing**: PCA using Math.NET Numerics  
  - **Clustering**: K-means (Math.NET or ML.NET)  
  - **Segmentation**: Otsu, adaptive/manual thresholding, region growing, watershed  
  - **Visualization**: Interactive overlays (Canvas/SVG), side-by-side comparison, performance metrics

- âš™ï¸ **Pipeline Execution**  
  - Model analysis as configurable pipelines (Load â†’ PCA â†’ KMeans â†’ Segmentation)  
  - Save/load pipeline configs (JSON)  
  - Log execution time per step

- ğŸŒ **Cross-Language Consistency**  
  - Deterministic seeds for reproducibility  
  - Well-defined input/output contracts  
  - Designed for future porting to Python or other languages

## ğŸ› ï¸ Tech Stack

- **ASP.NET Core Razor Pages** (.NET 8)
- **fo-dicom** (DICOM support)
- **SixLabors.ImageSharp** (image processing)
- **MathNet.Numerics** (math, PCA, clustering)
- **Bootstrap, jQuery** (UI)

## â–¶ï¸ Getting Started

1. **Clone the repository**
2. **Install dependencies**  
   ```
   dotnet restore
   ```
3. **Build and run**  
   ```
   dotnet run
   ```
4. **Open in browser**  
   Navigate to `https://localhost:<port>` (port indicated in console)

## ğŸ“ Project Structure

```
MedicalImageAnalysis.Web/
â”œâ”€â”€ Pages/                 # Razor Pages (UI)
â”œâ”€â”€ Services/              # Core logic (planned)
â”œâ”€â”€ Models/                # Data models (planned)
â”œâ”€â”€ Data/                  # File I/O, data loading (planned)
â”œâ”€â”€ Utils/                 # Shared helpers (planned)
â”œâ”€â”€ wwwroot/               # Static assets (CSS, JS)
â”œâ”€â”€ Program.cs             # App entrypoint
â”œâ”€â”€ MedicalImageAnalysis.Web.csproj
â””â”€â”€ ...
```

## ğŸ“… Roadmap

- âœ… DICOM/PNG/JPG upload & preview, DONE.  
  ![DICOM/PNG/JPG upload & preview](wwwroot/images/71583a9c-8f4f-4862-a027-85b398dba39f.png)
  
- [-] NIfTI support, skipped.
- âœ… Segmentation algorithms. Otsu. DONE  
  ![Otsu segmentation](wwwroot/images/dbd14dee-41a5-4cb0-bf20-5098508112e0_otsu.png)
  
- âœ… K-means clustering. DONE  
  ![K-means clustering](wwwroot/images/d9b6870b-49af-44f7-8d5b-0ac77193fe12_kmeans.png)
    
- âœ… PCA preprocessing. DONE
  implemented basic PCA preprocessing functionality.
  Needs to be reweived according to Project_Plan.txt

- âœ… Segmentation algorithms ( region growing)

- [ ] Segmentation algorithms ( watershed )
- [ ] Interactive visualization ( Canvas/SVG overlays )
- [ ] Pipeline configuration UI
- [-] Save/load pipeline configs into JSON. Optional

## ğŸ“œ License

This project uses open-source libraries under MIT and similar licenses. See `/wwwroot/lib/*/LICENSE*` for details. 
